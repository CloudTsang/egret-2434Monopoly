用egret白鹭引擎做的一个2434Liver的大富翁游戏，主要玩法是游戏中存在<现实>和<虚拟>两个棋盘，控制liver在<现实>中提升能力和收集直播用neta（这部分比较接近一般大富翁游戏），在<虚拟>中使用neta进行直播提升粉丝数。

![pic](https://raw.githubusercontent.com/CloudTsang/egret-2434Monopoly/main/screenshot/01.png)

![pic](https://raw.githubusercontent.com/CloudTsang/egret-2434Monopoly/main/screenshot/02.jpg)


运行

```
egret startserver -a
```

目前完成度：单机大富翁游玩的系统基本已完成，但是道具种类做得很多效果还未全部实现。

~~联网对战短时间内不会做的，不会做（双重含义）~~

大富翁游戏真的很难做，聚会游戏基本属于不玩的时候等于不存在的游戏类型，网上相关例子也少。而且我这个做到中途发现其实更偏向培养，为了大富翁味儿更足需要添加更多运气事件和妨碍手段（目前加入了诅咒人偶系列道具，但是功能尚未实现完毕），这些都在设计中。

- MainCharacter

玩家角色，取自彩虹社的Vtuber，目前设计了4人：月ノ美兎、鹰宫莉音、剑持刀也、笹木咲，一是我比较了解，二是要选的能设计出<现实><虚拟>两种形象切换的Liver，典型的比如月之和迷之做起来就很轻松。

怎么体现Liver的特点是最苦恼的地方，这4人中其实3人都是杂谈向Liver，熊猫人是游戏向Liver，这点我在能力值上体现出来了，其中大小姐则是比两母子多了些联动相关的设计。至于歌向的Liver个人没想到什么好设计就暂缓了。

此外每个角色设计了2个正面技能2个负面技能和1个隐藏技能，自认都有把角色特点和梗融进去了。

直播结束后订阅会根据使用neta和liver能力值和roll结果增长，每回合开始时除非处于炎上状态则也会自动增长。

此外还有anti这个隐藏数值，当直播中发生事故或炎上时会增加，在每回合开始计算粉丝自动增长时会减去相应数值，但是处于炎上状态以外则不会导致负增长。

 - Npc

 除了可操作的MainCharacter角色外还简单设计的一大推npc liver，有好感度设定，好感度越高越容易在直播中进行联动~~画面表现只是简单做个discord头像的效果~~，并且会获得有特殊效果的专属neta。

 npc会以一格最多3人的数量随机分布在地图上

 但是100多号人的带梗专属neta实在也是设计不来，所以目前npc只做了约70人，2021的新人和海外势基本没做。

 - Roll
比起大富翁更像传统trpg，大量使用roll决定操作结果，Roll范围通常是

```Math.random()*(基础值+Liver/Neta数值)```

Roll出10点以上是大成功，稍微提一下，使用最多的Roll范围是```5+Liver运气```，而Liver出厂能力最高到5（比如美兔初始杂谈力5），原定设计是只有西西是运气5可以一开始就roll出大成功但是还没把西西做进去==

- Neta

neta分为直播使用的(杂谈/游戏/歌曲/披露/好感度赠送)neta，以及为了方便，道具也作为neta处理。

直播neta有3个主属性：

pop（人气值）：影响当次直播的粉丝增长

meme（谜因值）：影响每回合开始时的粉丝自动增长（请理解为直播梗多产生切片多更能使粉丝自动增长）

safe（安全值）：影响直播炎上概率，这个概率的计算式我其实没完全想好，预想是在没有道具/技能影响的初始状态下有10%的基础概率，不受所有neta的总safe影响但是存在safe特别低的neta时会上升这样。

```
//neta配置数据
{
        "id":1,  
        //难以避免重复，所以没实际用途
        "name":"委员长的尤克里里", 
        //道具名
		"owner":"mito", 
        //特殊的好感度赠送neta才有的属性
        "des":"MADE IN CHINA的夏威夷乐器。使用后小幅提升歌力并大幅提升下一次歌回直播效果", 
        //道具描述
        "type":"device",   
        //道具类型
        "iconUrl":"",
        //图标，neta图标都要特地去找，很花时间，目前大多neta的图标都先留空了
        "class":"MitoSpec",  
        //实现类，一般道具可以通过Neta
        基类解析这个文档的描述来自动实现效果，特殊的效果需要单独的代码实现才配置这个属性
        "data":{
            "use":true, 
            //是否可以使用，有些道具带着就有效果
            "times":1, 
            //可用次数
            "effect":[
                {
                    "type":"STAT_CHANGE", 
                    //效果类型,目前主要有永久改变属性，临时改变属性，获得neta，获得buff等
                    "trigger":"use",  
                    //触发阶段，使用or持有or获得
                    "data":"{mc2.sing}+2" 
                    //效果描述，通过解析这个字符串修改角色的属性或实例化buff
                },
                {
                    "type":"GET_BUFF",
                    "trigger":"use",
                    "data":{
                        "class":"StreamRaise_SING"
                    }
                }
            ]
        }
    }
```

 - Event
 地图上每一格的事件，写在这里当做策划文档了

|  事件   | 细节 |
|  ----  | ----  |
|起点|经过就会发动，得到金钱和一个固定neta
| <现实>普通格  | 分别提升各项能力、打工赚点钱、散步获取neta、休息随机上升能力 |
| <虚拟>普通格  | 分别进行各种直播、看直播提升好感度、休息随机上升能力 |
|<现实>商店|有两种商店，买普通道具的商店和买诅咒人偶的商店
|<现实>enkr公司|可以花钱制作新衣装或新3D,可以向田角陆谄媚，然后根据角色的commu值roll一个结果，可能得到主流出道的披露neta也可能得罪ceo全员好感度下降以及一些其他结果
|<现实>教会|可以<许愿>得到一个运气buff，可以<忏悔>消除炎上状态并获得一个防火buff，可以<捐赠>提高修女的好感度并减少一些anti
|<现实>叙叙苑|花钱吃肉或花大钱请其他liver吃肉，获得一个体力buff，请客还能提升好感度。
|<现实>帕青哥|只是赌钱~~帕青哥效果不会做的~~
|<虚拟>buff格|对应不同种类的直播有buff的格子
|<虚拟>妖精之森|~~可以烧掉~~根据选项获得neta并使elu的好感度变动
|<虚拟>魔界|根据roll的结果召唤出不同的有恶魔属性的Liver产生不同的结果：roa或耳毛：得到专属neta，狗狗狗：提升好感度，露露：停止一回合并提升好感度，舞元：消除炎上，考拉：如果有在商店里买到unchi的话根据其数量提升好感度。
|<现实>特殊事件|也就是普通大富翁中的“！”格子，但是为什么我画图时用了“？”呢？为什么呢……目前设计了一下几种事件（数据配置在events_real_2.json中）：
|获得neta|简单的事件，没有特殊设计
|提升好感度|简单的事件，没有特殊设计
|手游抽卡|规则比较复杂的事件，花1w元抽卡，固定roll(10),roll不到大成功可以花1w继续抽，也就是还原氪金抽卡。根据收手时的抽卡次数和有没有出货得到各个档次的neta，若是能做出<欧皇抽卡>（1单出货+收手）和<泥沼抽卡>（10单以上无论有没有出货）数值最高，花的钱也不冤枉（可以理解为现实中直播抽卡若是普通地氪了2、3单出货的亚洲人直播效果也是最低了）。此外，如果在<虚拟>魔界中召唤过恶魔的话，会进入强制抽卡直至出货或者达到10单的状态。
|自动贩卖机|根据选项和roll结果出现不同情况，情况比较多但是比较简单。



![pic](https://raw.githubusercontent.com/CloudTsang/egret-2434Monopoly/main/screenshot/03.jpg)

![pic](https://raw.githubusercontent.com/CloudTsang/egret-2434Monopoly/main/screenshot/04.jpg)

![pic](https://raw.githubusercontent.com/CloudTsang/egret-2434Monopoly/main/screenshot/05.jpg)

![pic](https://raw.githubusercontent.com/CloudTsang/egret-2434Monopoly/main/screenshot/06.jpg)
